<!DOCTYPE html>
<html>
<head>
  <title>Firebase Form</title>
</head>
<body>
  <h1>成二每週小組聚會</h1>
  <form id="dataForm">
    <label for="name">小組/日期:</label>
    <input type="text" id="name" name="name" required>
    <br>
    <label for="number">人數:</label>
    <input type="number" id="number" name="number" required>
    <br>
    <button type="submit">提交</button>
  </form>

  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.js"></script>
  <script>
    // Your Firebase configuration code here
    var firebaseConfig = {
      apiKey: "AIzaSyCPYxRVPcrn2NBjD2ebfyWfimRy2eQ2AzI",
      authDomain: "weeklyreport-3ab53.firebaseapp.com",
      projectId: "weeklyreport-3ab53",
      storageBucket: "weeklyreport-3ab53.appspot.com",
      messagingSenderId: "564358091107",
      appId: "1:564358091107:web:296f225372a1bf735fc356",
      measurementId: "G-90VNFN19GZ"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    var db = firebase.firestore();

    // Form submission handler
    document.getElementById('dataForm').addEventListener('submit', function(event) {
      event.preventDefault();
      var name = document.getElementById('name').value;
      var number = document.getElementById('number').value;

      // Add a new document with a generated id
      db.collection("users").add({
        name: name,
        number: number
      })
      .then((docRef) => {
        console.log("Document written with ID: ", docRef.id);
        alert("Data successfully submitted!");
      })
      .catch((error) => {
        console.error("Error adding document: ", error);
      });
    });
  </script>
</body>
</html>
